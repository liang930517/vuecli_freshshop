"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[405],{1405:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container Project_product"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],attrs:{id:"loadingDiv"}},[t("div",{staticClass:"loader"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.modal,expression:"modal"}],staticClass:"modal",attrs:{id:"myModal"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"justify-content-center"},[t("div",{staticStyle:{"margin-bottom":"0"}},[t("span",{staticClass:"icon-modal",domProps:{innerHTML:e._s(e.text)}}),t("span",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.msg))])])])])]),0===e.cart.length?t("div",[e._v(" 購物車內無任何商品 "),e._m(0)]):t("div",[e._m(1),t("div",{staticClass:"container form-body mb-4"},[t("el-form",{ref:"resetPasswordForm",staticClass:"form-test mb-5",attrs:{model:e.resetPasswordForm,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm("resetPasswordForm")}}},[t("el-form-item",{attrs:{label:"收件人姓名：",prop:"name"}},[t("el-input",{attrs:{placeholder:"請輸入真實姓名",clearable:""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("resetPasswordForm")}},model:{value:e.resetPasswordForm.name,callback:function(t){e.$set(e.resetPasswordForm,"name",t)},expression:"resetPasswordForm.name"}})],1),t("el-form-item",{attrs:{label:"收件人手機：",prop:"tel"}},[t("el-input",{attrs:{placeholder:"請輸入手機號碼",clearable:""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("resetPasswordForm")}},model:{value:e.resetPasswordForm.tel,callback:function(t){e.$set(e.resetPasswordForm,"tel",t)},expression:"resetPasswordForm.tel"}})],1),t("el-form-item",{attrs:{label:"電子信箱：",prop:"email"}},[t("el-input",{attrs:{placeholder:"請輸入email",clearable:""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("resetPasswordForm")}},model:{value:e.resetPasswordForm.email,callback:function(t){e.$set(e.resetPasswordForm,"email",t)},expression:"resetPasswordForm.email"}})],1),t("el-form-item",{attrs:{label:"寄送地址：",prop:"address"}},[t("el-input",{attrs:{placeholder:"請輸入寄送地址",clearable:""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("resetPasswordForm")}},model:{value:e.resetPasswordForm.address,callback:function(t){e.$set(e.resetPasswordForm,"address",t)},expression:"resetPasswordForm.address"}})],1),t("el-form-item",{staticStyle:{"text-align":"right"}},[t("router-link",{staticClass:"text-dark",attrs:{to:"/cart"}},[t("button",{staticClass:"btn cart-back-btn"},[t("i",{staticClass:"fas fa-angle-left mr-2"}),e._v("回購物車 ")])]),t("button",{ref:"btnSubmitForm",staticClass:"btn btn-success cart-btn ml-2",attrs:{"native-type":"submit"}},[e._v(" 提交訂單 ")])],1)],1)],1)])])},a=[function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"/"}},[t("i",{staticClass:"fas fa-angle-left mr-2"}),e._v("現在就去逛逛")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"bar__container"},[t("ul",{staticClass:"bar row",attrs:{id:"bar"}},[t("li",{staticClass:"active"},[e._v("STEP 01 購物車")]),t("li",{staticClass:"active"},[e._v("STEP 02 填寫資料")]),t("li",[e._v("STEP 03 訂購完成")])])])}];s(1703);function o(e,t,s){var r=/^[0-9]{9,10}$/;return r.test(t)?s():s(new Error("輸入的手機號碼錯誤"))}function i(e,t,s){var r=/^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;return r.test(t)?s():s(new Error("電子信箱格式錯誤"))}var l={name:"MyCart",data(){return{msg:"",text:"",modal:!1,confirm:!1,cart:[],value:!0,resetPasswordForm:{name:"",email:"",tel:"",address:"",payment:"",coupon:"",message:""},rules:{name:[{required:!0,message:"收件人姓名為必填",trigger:"blur"}],tel:[{required:!0,message:"收件人手機為必填",trigger:"blur"},{type:"string",min:10,message:"手機號碼不得大於10個字元",trigger:"blur"},{validator:o,trigger:"blur"}],email:[{required:!0,message:"電子信箱為必填",trigger:"blur"},{validator:i,trigger:"blur"}],address:[{required:!0,message:"寄送地址必填",trigger:"blur"}]}}},created(){this.getCart()},methods:{getCart(){const e="https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/shopping";this.$http.get(e).then((e=>{this.cart=e.data.data,console.log(this.cart),this.value=!1}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.text='<i class="fa-solid fa-triangle-exclamation" style="color: red;"></i>',this.msg="資料尚未填寫完成",this.modal=!0,this.modal=setTimeout((()=>{this.modal=!1}),1e3),!1;{const e={...this.resetPasswordForm},t="https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/orders";this.$http.post(t,e).then((()=>{this.$bus.$emit("updateCart"),this.$router.push("/check"),console.log(e)})).catch((()=>{console.log("訂單失敗")}))}}))}}},n=l,m=s(1001),c=(0,m.Z)(n,r,a,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=405.e78f0871.js.map