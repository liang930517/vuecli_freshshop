"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[136],{7136:function(t,s,a){a.r(s),a.d(s,{default:function(){return o}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container Project_product"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],attrs:{id:"loadingDiv"}},[s("div",{staticClass:"loader"})]),0===t.cart.length?s("div",[s("div",{staticClass:"d-flex justify-content-center text-center"},[s("div",{staticClass:"mt-5"},[t._m(0),s("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.category="所有商品",t.toProducts()}}},[t._m(1)])])])]):s("div",[t._m(2),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-12 col-sm-12"},[s("table",{staticClass:"rwd-table"},[t._m(3),t._l(t.cart,(function(a){return s("tr",{key:a.product.id},[s("td",{staticClass:"align-middle",attrs:{scope:"row","data-th":"品名"}},[s("router-link",{attrs:{to:`/product/${a.product.id}`,target:"_blank"}},[s("img",{staticClass:"mr-3 d-md-inline-block",staticStyle:{"object-fit":"cover"},attrs:{src:a.product.imageUrl,width:"100",height:"100"}})]),t._v(" "+t._s(a.product.title)+" ")],1),s("td",{staticClass:"align-middle",attrs:{"data-th":"數量"}},[s("div",{staticClass:"input-group justify-content-center"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-success",attrs:{disabled:a.quantity<=1},on:{click:function(t){a.quantity--}}},[t._v(" - ")])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:a.quantity,expression:"item.quantity",modifiers:{number:!0}}],staticClass:"form-control col-4 text-center",staticStyle:{"background-color":"#fff !important"},attrs:{type:"number",min:"1",readonly:""},domProps:{value:a.quantity},on:{input:function(s){s.target.composing||t.$set(a,"quantity",t._n(s.target.value))},blur:function(s){return t.$forceUpdate()}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-success",on:{click:function(t){a.quantity++}}},[t._v(" + ")])])])]),s("td",{staticClass:"align-middle text-center",attrs:{"data-th":"單價"}},[t._v(" $ "+t._s(a.product.price)+" ")]),s("td",{staticClass:"align-middle text-center",attrs:{"data-th":"小計"}},[t._v(" $ "+t._s(a.product.price*a.quantity)+" ")]),s("td",{staticClass:"align-middle text-center",attrs:{"data-th":"移除"}},[s("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(s){return t.delOneCartItem(a.product.id)}}},[s("i",{staticClass:"fas fa-times"})])])])}))],2)])]),s("hr"),s("div",{staticStyle:{"text-align":"right"}},[s("div",[s("span",{staticClass:"mr-2",staticStyle:{"font-size":"15px"}},[t._v(" 總金額 ")]),s("span",{staticClass:"mr-2",staticStyle:{"font-size":"15px"}},[t._v(" NT$")]),s("span",{staticStyle:{"font-size":"1.5rem"}},[t._v(" "+t._s(t.totalPrice))]),s("span",{staticClass:"ml-2",staticStyle:{"font-size":"15px"}},[t._v("元")])]),s("div",{staticStyle:{"margin-top":"20px","margin-bottom":"50px"}},[s("router-link",{staticClass:"text-dark",attrs:{to:"/"}},[s("button",{staticClass:"btn cart-back-btn cart-btn"},[s("i",{staticClass:"fas fa-angle-left mr-2"}),t._v("繼續選購 ")])]),s("router-link",{staticClass:"text-dark",attrs:{to:"/order"}},[s("button",{staticClass:"btn btn-success cart-btn",staticStyle:{"margin-left":"20px"}},[t._v(" 前往結帳 ")])])],1)])])])},i=[function(){var t=this,s=t._self._c;return s("h2",{staticClass:"favorite__title mb-3 h5 mt-4 mb-4"},[s("i",{staticClass:"fas fa-cart-plus",staticStyle:{"font-size":"7rem",color:"unset"}}),t._v(" 購物車內無商品，快去挑挑吧！ ")])},function(){var t=this,s=t._self._c;return s("button",{staticClass:"btn all_btn"},[s("i",{staticClass:"fas fa-angle-left mr-2"}),t._v("去逛逛 ")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"bar__container"},[s("ul",{staticClass:"bar row",attrs:{id:"bar"}},[s("li",{staticClass:"active"},[t._v("STEP 01 購物車")]),s("li",[t._v("STEP 02 填寫資料")]),s("li",[t._v("STEP 03 訂購完成")])])])},function(){var t=this,s=t._self._c;return s("tr",{staticClass:"tr-one"},[s("th",[t._v("品名")]),s("th",{staticClass:"text-center count-th",staticStyle:{width:"200px"}},[t._v("數量")]),s("th",{staticClass:"text-center"},[t._v("單價")]),s("th",{staticClass:"text-center"},[t._v("小計")]),s("th",{staticClass:"text-center"},[t._v("移除")])])}],c={name:"MyCart",data(){return{cart:[],value:!0}},created(){this.getCart()},methods:{getCart(){const t="https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/shopping";this.$http.get(t).then((t=>{this.cart=t.data.data,console.log(this.cart),this.value=!1}))},delOneCartItem(t){const s=`https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/shopping/${t}`;this.$http.delete(s).then((()=>{this.getCart(),this.$bus.$emit("updateCart")}))},toProducts(){this.$emit("fliterProduct",this.category),this.$router.push(`/products/${this.category}`)}},computed:{totalPrice(){return this.cart.reduce(((t,s)=>t+s.product.price*s.quantity),0)}}},r=c,n=a(1001),l=(0,n.Z)(r,e,i,!1,null,null,null),o=l.exports}}]);
//# sourceMappingURL=136.273721b9.js.map