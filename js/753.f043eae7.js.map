{"version":3,"file":"js/753.f043eae7.js","mappings":"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","sources":["webpack://demo/./src/views/frontend/MyFavorite.vue","webpack://demo/src/views/frontend/MyFavorite.vue","webpack://demo/./src/views/frontend/MyFavorite.vue?a034","webpack://demo/./src/views/frontend/MyFavorite.vue?c4d5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"Project_product\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modal),expression:\"modal\"}],staticClass:\"modal\",attrs:{\"id\":\"myModal\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"justify-content-center\"},[_c('p',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('span',{staticClass:\"icon-modal\",domProps:{\"innerHTML\":_vm._s(_vm.text)}}),_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.msg))])])])])]),_c('div',{staticClass:\"container\"},[(!_vm.favoriteList[0])?_c('div',{staticClass:\"d-flex justify-content-center text-center\"},[_c('div',{staticClass:\"mt-5\"},[_vm._m(0),_c('a',{staticClass:\"text-dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.category = '所有商品';\n            _vm.toProducts();}}},[_vm._m(1)])])]):_c('div',[_c('div',{staticClass:\"favoriteTitle d-flex justify-content-between align-items-center mb-4 pb-3\"},[_c('h2',{staticClass:\"h3 mb-0 font-weight-bold\"},[_vm._v(\"我的追蹤清單\")]),_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(\" 共 \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(_vm.favoriteList.length)+\" \")]),_vm._v(\" 項 \")])]),_c('div',{staticClass:\"row\"},_vm._l((_vm.favoriteList),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-3 col-md-4 mb-5 col-sm-6\"},[_c('router-link',{staticClass:\"text-decoration-none text-dark\",attrs:{\"to\":`/product/${item.id}`}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"product__wrap\"},[_c('div',{staticClass:\"product__wrap__img bg-cover position-relative\",staticStyle:{\"height\":\"200px\",\"background-position\":\"center\",\"background-size\":\"cover\"},style:({ backgroundImage: `url(${item.imageUrl})` })},[_c('span',{staticClass:\"badge badge-secondary align-self-start favorite\",staticStyle:{\"border-radius\":\"0 !important\"}},[_vm._v(\" \"+_vm._s(item.category)+\" \")]),_c('span',{on:{\"click\":function($event){$event.preventDefault();return _vm.removefavorite(item)}}},[_c('i',{staticClass:\"fas fa-backspace fav-icon\"})])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('h5',{staticClass:\"card-title text-dark font-weight-bold\"},[_vm._v(\" \"+_vm._s(item.title)+\" \")])]),_c('div',{staticStyle:{\"vertical-align\":\"middle\"}},[_c('div',{staticClass:\"float-left\"},[_c('span',{staticClass:\"mb-0 h4 font-weight-bold text-danger\"},[_vm._v(\" $\")]),_c('span',{staticClass:\"mb-0 h4 font-weight-bold text-danger mr-1\"},[_vm._v(_vm._s(item.price))])]),_c('div',{staticClass:\"float-right\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"icon\"},[_c('span',{on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item.id)}}},[_c('i',{staticClass:\"fas fa-cart-plus cart-fv-icon mr-1\"})])])])])])])])])],1)}),0)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',{staticClass:\"favorite__title mb-3 h5 mt-4 mb-4\"},[_c('i',{staticClass:\"far fa-heart\",staticStyle:{\"font-size\":\"7rem\",\"background-color\":\"#b7b7b7\",\"padding\":\"20px\",\"color\":\"#fff\"}}),_vm._v(\" 沒有收藏的商品可顯示 \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"btn all_btn\"},[_c('i',{staticClass:\"fas fa-angle-left mr-2\"}),_vm._v(\"去逛逛 \")])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Project_product\">\r\n\r\n    <div id=\"myModal\" class=\"modal\" v-show=\"modal\">\r\n      <!-- Modal content -->\r\n      <div class=\"modal-content\">\r\n        <div class=\"justify-content-center\">\r\n          <p style=\"margin-bottom: 0\">\r\n            <span v-html=\"text\" class=\"icon-modal\"></span>\r\n            <span style=\"font-size: 20px\">{{ msg }}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <div\r\n        class=\"d-flex justify-content-center text-center\"\r\n        v-if=\"!favoriteList[0]\"\r\n      >\r\n        <div class=\"mt-5\">\r\n          <h2 class=\"favorite__title mb-3 h5 mt-4 mb-4\">\r\n            <i\r\n              class=\"far fa-heart\"\r\n              style=\"\r\n                font-size: 7rem;\r\n                background-color: #b7b7b7;\r\n                padding: 20px;\r\n                color: #fff;\r\n              \"\r\n            ></i>\r\n            沒有收藏的商品可顯示\r\n          </h2>\r\n          <a\r\n            href=\"#\"\r\n            @click.prevent=\"\r\n              category = '所有商品';\r\n              toProducts();\r\n            \"\r\n            class=\"text-dark\"\r\n          >\r\n            <button class=\"btn all_btn\">\r\n              <i class=\"fas fa-angle-left mr-2\"></i>去逛逛\r\n            </button></a\r\n          >\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <div\r\n          class=\"\r\n            favoriteTitle\r\n            d-flex\r\n            justify-content-between\r\n            align-items-center\r\n            mb-4\r\n            pb-3\r\n          \"\r\n        >\r\n          <h2 class=\"h3 mb-0 font-weight-bold\">我的追蹤清單</h2>\r\n          <p class=\"mb-0 h4 font-weight-bold\">\r\n            共 <span class=\"text-danger\"> {{ favoriteList.length }} </span> 項\r\n          </p>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div\r\n            class=\"col-lg-3 col-md-4 mb-5 col-sm-6\"\r\n            v-for=\"item in favoriteList\"\r\n            :key=\"item.id\"\r\n          >\r\n            <router-link\r\n              :to=\"`/product/${item.id}`\"\r\n              class=\"text-decoration-none text-dark\"\r\n            >\r\n              <div class=\"card\">\r\n                <div class=\"product__wrap\">\r\n                  <div\r\n                    class=\"product__wrap__img bg-cover position-relative\"\r\n                    style=\"\r\n                      height: 200px;\r\n                      background-position: center;\r\n                      background-size: cover;\r\n                    \"\r\n                    :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\r\n                  >\r\n                    <span\r\n                      class=\"badge badge-secondary align-self-start favorite\"\r\n                      style=\"border-radius: 0 !important\"\r\n                    >\r\n                      {{ item.category }}\r\n                    </span>\r\n\r\n                    <span @click.prevent=\"removefavorite(item)\"\r\n                      ><i class=\"fas fa-backspace fav-icon\"></i\r\n                    ></span>\r\n                    <!-- <span class=\"moreInfo\">看更多內容</span> -->\r\n                  </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <div\r\n                    class=\"d-flex justify-content-between align-items-center\"\r\n                  >\r\n                    <h5 class=\"card-title text-dark font-weight-bold\">\r\n                      {{ item.title }}\r\n                    </h5>\r\n                  </div>\r\n\r\n                  <div style=\"vertical-align: middle\">\r\n                    <div class=\"float-left\">\r\n                      <!-- <span class=\"h5 font-weight-bold\">促銷價 </span> -->\r\n                      <span class=\"mb-0 h4 font-weight-bold text-danger\">\r\n                        $</span\r\n                      >\r\n                      <span class=\"mb-0 h4 font-weight-bold text-danger mr-1\">{{\r\n                        item.price\r\n                      }}</span>\r\n                    </div>\r\n                    <div class=\"float-right\">\r\n                      <div class=\"wrapper\">\r\n                        <!-- <div><i class=\"fas fa-backspace\"></i></div> -->\r\n                        <div class=\"icon\">\r\n                          <span @click.prevent=\"addToCart(item.id)\">\r\n                            <i class=\"fas fa-cart-plus cart-fv-icon mr-1\"></i>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MyFavorite\",\r\n  data() {\r\n    return {\r\n      msg: \"\",\r\n      text: \"\",\r\n      modal: false,\r\n      favoriteList: [],\r\n      favoriteId: [],\r\n      isLoading: false,\r\n      category: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.favoriteList = JSON.parse(localStorage.getItem(\"favoriteList\")) || [];\r\n    this.favoriteId = JSON.parse(localStorage.getItem(\"favoriteId\")) || [];\r\n  },\r\n  methods: {\r\n    addToCart(id, quantity = 1) {\r\n      const api = `https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/shopping`;\r\n      const cart = {\r\n        product: id,\r\n        quantity,\r\n      };\r\n      this.$http\r\n        .post(api, cart)\r\n        .then(() => {\r\n          this.$emit(\"updateCart\");\r\n          this.text =\r\n            '<i class=\"fa-solid fa-circle-check\" style=\"color: green;\"></i>';\r\n          this.msg = \"商品已加入購物車！\";\r\n          this.modal = true;\r\n          this.modal = setTimeout(() => {\r\n            this.modal = false;\r\n          }, 1000 * 1 * 1);\r\n        })\r\n        .catch(() => {\r\n          this.text =\r\n            '<i class=\"fa-solid fa-triangle-exclamation\" style=\"color: red;\"></i>';\r\n          this.msg = \"購物車已存在該商品！\";\r\n          // this.msg = errors.response.data.errors[0]; //catch裡的括號要加errors\r\n          this.modal = true;\r\n          this.modal = setTimeout(() => {\r\n            this.modal = false;\r\n          }, 1000 * 1 * 1);\r\n        });\r\n    },\r\n    toProducts() {\r\n      this.$emit(\"fliterProduct\", this.category);\r\n      this.$router.push(`/products/${this.category}`);\r\n    },\r\n    removefavorite(item) {\r\n      this.favoriteList.forEach((i, index) => {\r\n        if (i.id === item.id) {\r\n          this.favoriteList.splice(index, 1);\r\n          localStorage.setItem(\r\n            \"favoriteList\",\r\n            JSON.stringify(this.favoriteList)\r\n          );\r\n        }\r\n      });\r\n      this.favoriteId.forEach((i, index) => {\r\n        if (i === item.id) {\r\n          this.favoriteId.splice(index, 1);\r\n          localStorage.setItem(\"favoriteId\", JSON.stringify(this.favoriteId));\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.fav-icon {\r\n  position: absolute;\r\n  right: 0;\r\n  font-size: 25px;\r\n  color: #db5669;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  padding: 3px;\r\n}\r\n\r\n.wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  // padding: 8px;\r\n  // margin: 16px;\r\n  // background-color: grey;\r\n  width: auto;\r\n}\r\n\r\n.fa-sort-down {\r\n  height: 24px;\r\n  margin-top: -7px;\r\n}\r\n\r\n.fa-sort-up {\r\n  margin-top: 2px;\r\n}\r\n\r\n.icon {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 4px;\r\n  // margin-top:8px;\r\n}\r\n\r\n.fa-heart {\r\n  // background-color: crimson;\r\n  padding: 5px;\r\n  color: #c8c8c8;\r\n  border-radius: 50%;\r\n  font-size: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.cart-fv-icon {\r\n  font-size: 20px;\r\n  background-color: #28a745;\r\n  color: #fff;\r\n  padding: 5px;\r\n  border-radius: 7px;\r\n}\r\n\r\n.list-group {\r\n  margin-top: 15px;\r\n  top: 72px;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n  transition: all 0.5s;\r\n  &:hover {\r\n    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175);\r\n    .moreInfo {\r\n      opacity: 1;\r\n    }\r\n  }\r\n}\r\n\r\n.product__wrap {\r\n  overflow: hidden;\r\n}\r\n\r\n.modal {\r\n  display: block;\r\n  position: fixed; /* Stay in place */\r\n  z-index: 1; /* Sit on top */\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\r\n}\r\n\r\n/* Modal Content/Box */\r\n.modal-content {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fefefe;\r\n  // margin: 15% auto;\r\n  padding: 20px;\r\n  border: 1px solid #888;\r\n  max-width: 100%;\r\n}\r\n\r\n.icon-modal {\r\n  font-size: 25px;\r\n  vertical-align: middle;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyFavorite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyFavorite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyFavorite.vue?vue&type=template&id=d174149a&scoped=true&\"\nimport script from \"./MyFavorite.vue?vue&type=script&lang=js&\"\nexport * from \"./MyFavorite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyFavorite.vue?vue&type=style&index=0&id=d174149a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d174149a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","modal","expression","attrs","staticStyle","domProps","_s","text","_v","msg","favoriteList","length","_l","item","key","id","style","backgroundImage","imageUrl","category","on","$event","preventDefault","removefavorite","title","price","addToCart","_m","toProducts","staticRenderFns","data","favoriteId","isLoading","created","methods","product","quantity","post","api","cart","then","catch","localStorage","JSON","component"],"sourceRoot":""}