{"version":3,"file":"js/858.635409e2.js","mappings":"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","sources":["webpack://demo/./src/views/frontend/MySearch.vue","webpack://demo/src/views/frontend/MySearch.vue","webpack://demo/./src/views/frontend/MySearch.vue?d5d8","webpack://demo/./src/views/frontend/MySearch.vue?b5fd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"products Project_product\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modal),expression:\"modal\"}],staticClass:\"modal\",attrs:{\"id\":\"myModal\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"justify-content-center\"},[_c('p',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('span',{staticClass:\"icon-modal\",domProps:{\"innerHTML\":_vm._s(_vm.text)}}),_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.msg))])])])])]),_c('div',{staticClass:\"container\"},[_vm._m(0),_c('h5',{staticClass:\"mb-4\"},[_vm._v(\"共找到 \"+_vm._s(this.filterProducts.length)+\" 項「 \"+_vm._s(this.keyword)+\" 」相關的產品\")]),_c('div',{staticClass:\"row\"},_vm._l((_vm.filterProducts),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-3 col-md-6 mb-5\"},[_c('router-link',{staticClass:\"text-decoration-none text-dark\",attrs:{\"to\":`/product/${item.id}`}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"product__wrap\"},[_c('div',{staticClass:\"product__wrap__img bg-cover position-relative\",staticStyle:{\"height\":\"200px\",\"background-position\":\"center\",\"background-size\":\"cover\"},style:({ backgroundImage: `url(${item.imageUrl[0]})` })},[_c('span',{staticClass:\"badge badge-secondary align-self-start favorite\",staticStyle:{\"border-radius\":\"0 !important\"}},[_vm._v(\" \"+_vm._s(item.category)+\" \")])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('h5',{staticClass:\"card-title text-dark font-weight-bold\"},[_vm._v(\" \"+_vm._s(item.title)+\" \")])]),_c('div',{staticClass:\"float-left\"},[_c('span',{staticClass:\"mb-0 h4 font-weight-bold text-danger\"},[_vm._v(\" $\")]),_c('span',{staticClass:\"mb-0 h4 font-weight-bold text-danger mr-1\"},[_vm._v(_vm._s(item.price))])]),_c('div',{staticClass:\"float-right\"},[_c('span',{on:{\"click\":function($event){$event.preventDefault();return _vm.addfavorite(item)}}},[_c('i',{staticClass:\"fa-sharp fa-solid fa-heart\"})]),_c('span',{on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item.id)}}},[_c('i',{staticClass:\"fas fa-cart-plus mr-1\"})])])])])])],1)}),0)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"d-sm-flex justify-content-sm-end mb-3\"},[_c('div',{staticClass:\"form-group mb-0\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"products Project_product\">\r\n    <div id=\"myModal\" class=\"modal\" v-show=\"modal\">\r\n      <!-- Modal content -->\r\n      <div class=\"modal-content\">\r\n        <div class=\"justify-content-center\">\r\n          <p style=\"margin-bottom: 0\">\r\n            <span v-html=\"text\" class=\"icon-modal\"></span>\r\n\r\n            <span style=\"font-size: 20px\">{{ msg }}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <loading :active.sync=\"isLoading\"></loading> -->\r\n    <div class=\"container\">\r\n      <div class=\"d-sm-flex justify-content-sm-end mb-3\">\r\n        <div class=\"form-group mb-0\">\r\n          <!-- <select\r\n            name=\"sort\"\r\n            id=\"sort\"\r\n            v-model=\"sort\"\r\n            class=\"form-control\"\r\n            @change=\"sortProducts()\"\r\n          >\r\n            <option value=\"\" disabled>商品排序</option>\r\n            <option value=\"lowToHigh\">價格由低至高</option>\r\n            <option value=\"highToLow\">價格由高至低</option>\r\n          </select> -->\r\n        </div>\r\n      </div>\r\n\r\n      <h5 class=\"mb-4\">共找到 {{ this.filterProducts.length }} 項「 {{ this.keyword }} 」相關的產品</h5>\r\n\r\n      <div class=\"row\">\r\n        <div\r\n          class=\"col-lg-3 col-md-6 mb-5\"\r\n          v-for=\"item in filterProducts\"\r\n          :key=\"item.id\"\r\n        >\r\n        <router-link\r\n            :to=\"`/product/${item.id}`\"\r\n            class=\"text-decoration-none text-dark\"\r\n          >\r\n            <div class=\"card\">\r\n              <div class=\"product__wrap\">\r\n                <div\r\n                  class=\"product__wrap__img bg-cover position-relative\"\r\n                  style=\"\r\n                    height: 200px;\r\n                    background-position: center;\r\n                    background-size: cover;\r\n                  \"\r\n                  :style=\"{ backgroundImage: `url(${item.imageUrl[0]})` }\"\r\n                >\r\n                  <span\r\n                    class=\"badge badge-secondary align-self-start favorite\"\r\n                    style=\"border-radius: 0 !important\"\r\n                  >\r\n                    {{ item.category }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <h5 class=\"card-title text-dark font-weight-bold\">\r\n                    {{ item.title }}\r\n                  </h5>\r\n                </div>\r\n\r\n                <div class=\"float-left\">\r\n                  <span class=\"mb-0 h4 font-weight-bold text-danger\"> $</span>\r\n                  <span class=\"mb-0 h4 font-weight-bold text-danger mr-1\">{{\r\n                    item.price\r\n                  }}</span>\r\n                </div>\r\n                <div class=\"float-right\">\r\n                  <span @click.prevent=\"addfavorite(item)\">\r\n                    <i class=\"fa-sharp fa-solid fa-heart\"></i>\r\n                  </span>\r\n                  <span @click.prevent=\"addToCart(item.id)\"\r\n                    ><i class=\"fas fa-cart-plus mr-1\"></i\r\n                  ></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"mySearch\",\r\n  data() {\r\n    return {\r\n      msg: \"\",\r\n      text: \"\",\r\n      modal: false,\r\n      products: [],\r\n      favoriteList: [],\r\n      favoriteId: [],\r\n      value: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    // this.favoriteList = JSON.parse(localStorage.getItem('favoriteList')) || [];\r\n    // this.favoriteId = JSON.parse(localStorage.getItem('favoriteId')) || [];\r\n  },\r\n  props: [\"keyword\"],\r\n  methods: {\r\n    getProducts() {\r\n      // this.isLoading = true;\r\n      // const api =\r\n      //   \"https://script.googleusercontent.com/macros/echo?user_content_key=ALRXhSCekGfPXvJZ4J0-5Jmmy3k2ByLsswSiCyc2c3TijtiU4CZlQUC2InYoRo6HUt5wYuScQgbIQKDss69CZAlZg15DsXb_m5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnJRajOrson1IXT0MAqKD-Y_2ev6Y1uphrNMW3LbT1FOrFwjexkQB7eBsGcPO-hCQqCusiQa8F3T2xd0mr_3l41NLBz1Vsud1ytz9Jw9Md8uu&lib=M2DSkNNY9kw9NDUHfBkuXHXo3lEn2eXbe\";\r\n      // const api = \"https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/products\";\r\n\r\n      const api =\r\n        \"https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/products?page=1\";\r\n      this.$http.get(api).then((res) => {\r\n        this.products = res.data.data;\r\n\r\n        // console.log(\"A\", res.data);\r\n\r\n        // this.pagination = res.data.meta.pagination;\r\n        // this.isLoading = false;\r\n      });\r\n    },\r\n    addToCart(id, quantity = 1) {\r\n      console.log(id, \".......\", quantity);\r\n      const api = `https://course-ec-api.hexschool.io/api/d25970ec-b87b-44f6-9785-9bdbbcd8dc56/ec/shopping`;\r\n      // https://vue-course-api.hexschool.io/api/getjson/products\r\n      const cart = {\r\n        product: id,\r\n        quantity,\r\n      };\r\n      this.$http\r\n        .post(api, cart)\r\n        .then(() => {\r\n          this.$emit(\"updateCart\");\r\n          this.text =\r\n            '<i class=\"fa-solid fa-circle-check\" style=\"color: green;\"></i>';\r\n          this.msg = \"商品已加入購物車！\";\r\n          this.modal = true;\r\n          this.modal = setTimeout(() => {\r\n            this.modal = false;\r\n          }, 1000 * 1 * 1);\r\n        })\r\n        .catch(() => {\r\n          this.text =\r\n            '<i class=\"fa-solid fa-triangle-exclamation\" style=\"color: red;\"></i>';\r\n          this.msg = \"購物車已存在該商品！\";\r\n          // this.msg = errors.response.data.errors[0]; //catch裡的括號要加errors\r\n          this.modal = true;\r\n          this.modal = setTimeout(() => {\r\n            this.modal = false;\r\n          }, 1000 * 1 * 1);\r\n        });\r\n    },\r\n    addfavorite(item) {\r\n      console.log(\"haha\")\r\n      this.favoriteList.push(item);\r\n      this.favoriteId.push(item.id);\r\n      this.favoriteList = [...new Set(this.favoriteList)];\r\n      this.favoriteId = [...new Set(this.favoriteId)];\r\n      localStorage.setItem('favoriteList', JSON.stringify(this.favoriteList));\r\n      localStorage.setItem('favoriteId', JSON.stringify(this.favoriteId));\r\n      alert(\"已加入收藏清單\")\r\n    },\r\n    removefavorite(item) {\r\n      console.log(\"99999999\")\r\n      this.favoriteList.forEach((i, index) => {\r\n        if (i.id === item.id) {\r\n          this.favoriteList.splice(index, 1);\r\n          localStorage.removeItem('favoriteList', JSON.stringify(this.favoriteList));\r\n        }\r\n      });\r\n      this.favoriteId.forEach((i, index) => {\r\n        if (i === item.id) {\r\n          this.favoriteId.splice(index, 1);\r\n          localStorage.removeItem('favoriteId', JSON.stringify(this.favoriteId));\r\n        }\r\n      });\r\n      alert(\"已取消收藏清單\")\r\n    },\r\n  },\r\n  computed: {\r\n    filterProducts() {\r\n      return this.products.filter((item) => item.title.match(this.keyword) || item.category.match(this.keyword));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.favorite {\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n\r\n.fa-heart {\r\n  padding: 5px;\r\n  color: #c8c8c8;\r\n  border-radius: 50%;\r\n  font-size: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.list-group {\r\n  margin-top: 15px;\r\n  top: 72px;\r\n}\r\n\r\n#products .card {\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n  transition: all 0.5s;\r\n}\r\n\r\n#products .card:hover {\r\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.product__wrap {\r\n  overflow: hidden;\r\n}\r\n\r\n/*LOADING */\r\n.loader,\r\n.loader:after {\r\n  border-radius: 50%;\r\n  width: 10em;\r\n  height: 10em;\r\n}\r\n\r\n.loader {\r\n  margin: auto;\r\n  font-size: 4px;\r\n  position: relative;\r\n  text-indent: -9999em;\r\n  border-top: 1.1em solid #4b5f9b;\r\n  border-right: 1.1em solid #4b5f9b;\r\n  border-bottom: 1.1em solid #4b5f9b;\r\n  border-left: 1.1em solid #f8f9fc;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load8 1.1s infinite linear;\r\n  animation: load8 1.1s infinite linear;\r\n  transform: translateY(-50%);\r\n  top: 50%;\r\n}\r\n\r\n@-webkit-keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n#loadingDiv {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f8f9fc;\r\n  z-index: 3;\r\n  overflow: hidden;\r\n}\r\n\r\n.main {\r\n  position: relative !important;\r\n  margin-bottom: 0 !important;\r\n}\r\n\r\n.modal {\r\n  display: block;\r\n  position: fixed; /* Stay in place */\r\n  z-index: 1; /* Sit on top */\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\r\n  z-index: 9999999999;\r\n}\r\n\r\n/* Modal Content/Box */\r\n.modal-content {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fefefe;\r\n  padding: 20px;\r\n  border: 1px solid #888;\r\n  max-width: 100%;\r\n}\r\n\r\n.icon-modal {\r\n  font-size: 25px;\r\n  vertical-align: middle;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MySearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MySearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MySearch.vue?vue&type=template&id=2fedca05&scoped=true&\"\nimport script from \"./MySearch.vue?vue&type=script&lang=js&\"\nexport * from \"./MySearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MySearch.vue?vue&type=style&index=0&id=2fedca05&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fedca05\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","modal","expression","attrs","staticStyle","domProps","_s","text","_v","msg","_m","filterProducts","length","keyword","_l","item","key","id","style","backgroundImage","imageUrl","category","title","price","on","$event","preventDefault","addfavorite","addToCart","staticRenderFns","data","products","favoriteList","favoriteId","created","props","methods","getProducts","console","product","quantity","post","api","cart","then","catch","localStorage","alert","removefavorite","computed","component"],"sourceRoot":""}